<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head', {title: title}) %>
    <style>
        .error { color: red; }
        .form-group { margin-bottom: 1rem; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 600; }
        input, select, textarea { width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }
        .form-text { font-size: 0.875rem; color: #666; }
        .form-buttons { display: flex; gap: 1rem; margin-top: 2rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .error-message { background-color: #f8d7da; color: #721c24; padding: 1rem; border-radius: 4px; margin-bottom: 1.5rem; }
        .error-message ul { margin: 0; padding-left: 1.5rem; }
    </style>
</head>
<body>
    <div class="container">
        <%- include('../partials/header') %>
        <%- include('../partials/nav') %>
        
        <main>
            <h1>Add New Vehicle</h1>
            
            <% if (errors && errors.length > 0) { %>
                <div class="error-message">
                    <ul><% errors.forEach(error => { %><li><%= error.msg || error %></li><% }) %></ul>
                </div>
            <% } %>
            
            <form action="/inv/add-inventory" method="post" class="inventory-form">
                <div class="form-group">
                    <label for="classification_id">Classification*</label>
                    <%- classificationList || '' %>
                </div>
                
                <div class="form-group">
                    <label for="inv_make">Make*</label>
                    <input type="text" id="inv_make" name="inv_make" required
                           <% if (inv_make) { %>value="<%= inv_make %>"<% } %>>
                </div>
                
                <div class="form-group">
                    <label for="inv_model">Model*</label>
                    <input type="text" id="inv_model" name="inv_model" required
                           <% if (inv_model) { %>value="<%= inv_model %>"<% } %>>
                </div>
                
                <div class="form-group">
                    <label for="inv_year">Year*</label>
                    <input type="number" id="inv_year" name="inv_year" required min="1900"
                           max="<%= new Date().getFullYear() + 1 %>"
                           <% if (inv_year) { %>value="<%= inv_year %>"<% } %>>
                </div>
                
                <div class="form-group">
                    <label for="inv_description">Description*</label>
                    <textarea id="inv_description" name="inv_description" rows="4" required><%= inv_description || '' %></textarea>
                </div>
                
                <div class="form-group">
                    <label for="inv_image">Image Path</label>
                    <input type="text" id="inv_image" name="inv_image"
                           <% if (inv_image) { %>value="<%= inv_image %>"<% } else { %>value="/images/vehicles/no-image.png"<% } %>>
                    <small class="form-text">Path to vehicle image</small>
                </div>
                
                <div class="form-group">
                    <label for="inv_thumbnail">Thumbnail Path</label>
                    <input type="text" id="inv_thumbnail" name="inv_thumbnail"
                           <% if (inv_thumbnail) { %>value="<%= inv_thumbnail %>"<% } else { %>value="/images/vehicles/no-image-tn.png"<% } %>>
                    <small class="form-text">Path to vehicle thumbnail</small>
                </div>
                
                <div class="form-group">
                    <label for="inv_price">Price*</label>
                    <input type="number" id="inv_price" name="inv_price" step="0.01" required min="0"
                           <% if (inv_price) { %>value="<%= inv_price %>"<% } %>>
                </div>
                
                <div class="form-group">
                    <label for="inv_miles">Miles*</label>
                    <input type="number" id="inv_miles" name="inv_miles" required min="0"
                           <% if (inv_miles) { %>value="<%= inv_miles %>"<% } %>>
                </div>
                
                <div class="form-group">
                    <label for="inv_color">Color*</label>
                    <input type="text" id="inv_color" name="inv_color" required
                           <% if (inv_color) { %>value="<%= inv_color %>"<% } %>>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">Add Vehicle</button>
                    <a href="/inv/" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </main>
        
        <%- include('../partials/footer') %>
    </div>
</body>
</html>